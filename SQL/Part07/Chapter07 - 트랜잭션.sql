-- BEGIN, COMMIT, ROLLBACK 실습
CREATE TABLE TB_ACCOUNT_TRANSACTION_TEST(
	ID INT GENERATED BY DEFAULT AS IDENTITY,
	NAME VARCHAR(100) NOT NULL,
	BALANCE DEC(15, 2) NOT NULL,
	PRIMARY KEY(ID)
);

COMMIT;

-- POSTGRESQL은 DDL도 커밋을 해야 한다.
-- 오라클은 DDL은 커밋할 필요가 없다.

--
BEGIN; -- 생략 가능

INSERT INTO TB_ACCOUNT_TRANSACTION_TEST
(NAME, BALANCE)
VALUES
('Alice', 10000);

COMMIT;

SELECT * FROM TB_ACCOUNT_TRANSACTION_TEST;

INSERT INTO TB_ACCOUNT_TRANSACTION_TEST 
(NAME, BALANCE)
VALUES
('Danny', 20000);

SELECT * FROM TB_ACCOUNT_TRANSACTION_TEST;

ROLLBACK;

SELECT * FROM TB_ACCOUNT_TRANSACTION_TEST;