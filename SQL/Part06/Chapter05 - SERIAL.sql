--
CREATE TABLE TABLE_NAME
(
	ID SERIAL
);

INSERT INTO TABLE_NAME
VALUES
	(DEFAULT)
;

COMMIT;

--
CREATE SEQUENCE TABLE_NAME_ID_SEQ;

CREATE TABLE TABLE_NAME
(
	ID INTEGER NOT NULL DEFAULT
	NEXTVAL('TABLE_NAME_ID_SEQ')
)
;

ALTER SEQUENCE TABLE_NAME_ID_SEQ OWNED BY TABLE_NAME.ID;
INSERT INTO TABLE_NAME VALUES(DEFAULT);

COMMIT;

--
CREATE TABLE FRUITS
(
	ID SERIAL PRIMARY KEY,
	NAME VARCHAR NOT NULL
)
;

INSERT INTO FRUITS
	(NAME)
VALUES
	('orange')
;

-- ID 컬럼은 자동으로 1로 들어간다.

INSERT INTO FRUITS
	(ID, NAME)
VALUES
	(DEFAULT, 'orange')
;

-- ID 컬럼은 자동으로 2로 들어간다.

SELECT * FROM FRUITS;

-- FRUITS TABLE의 ID가 SERIAL이다. 현재의 시퀀스 값을 알고 싶다면?
SELECT CURRVAL(PG_GET_SERIAL_SEQUENCE('fruits', 'id'));